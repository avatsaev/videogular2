{"version":3,"file":"controls.js","sources":["~/@videogular/controls/src/controls.ts","~/@videogular/controls/src/controls.module.ts","~/@videogular/controls/src/vg-track-selector/vg-track-selector.ts","~/@videogular/controls/src/vg-time-display/vg-time-display.ts","~/@videogular/controls/src/vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time.ts","~/@videogular/controls/src/vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points.ts","~/@videogular/controls/src/vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time.ts","~/@videogular/controls/src/vg-scrub-bar/vg-scrub-bar.ts","~/@videogular/controls/src/vg-playback-button/vg-playback-button.ts","~/@videogular/controls/src/vg-play-pause/vg-play-pause.ts","~/@videogular/controls/src/vg-volume/vg-volume.ts","~/@videogular/controls/src/vg-mute/vg-mute.ts","~/@videogular/controls/src/vg-fullscreen/vg-fullscreen.ts","~/@videogular/controls/src/vg-controls.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/public_api.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/core.module.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/vg-cue-points/vg-cue-points.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/vg-player/vg-player.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/services/vg-controls-hidden.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/vg-media/vg-media.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/events/vg-events.ts","../../../../../../node_modules/src/observable/TimerObservable.ts","../../../../../../node_modules/src/util/isDate.ts","../../../../../../node_modules/src/util/isScheduler.ts","../../../../../../node_modules/src/scheduler/async.ts","../../../../../../node_modules/src/scheduler/AsyncScheduler.ts","../../../../../../node_modules/src/Scheduler.ts","../../../../../../node_modules/src/scheduler/AsyncAction.ts","../../../../../../node_modules/src/scheduler/Action.ts","../../../../../../node_modules/src/Observable.ts","../../../../../../node_modules/src/util/pipe.ts","../../../../../../node_modules/src/util/noop.ts","../../../../../../node_modules/src/symbol/observable.ts","../../../../../../node_modules/src/util/toSubscriber.ts","../../../../../../node_modules/src/Subscriber.ts","../../../../../../node_modules/src/symbol/rxSubscriber.ts","../../../../../../node_modules/src/Observer.ts","../../../../../../node_modules/src/Subscription.ts","../../../../../../node_modules/src/util/UnsubscriptionError.ts","../../../../../../node_modules/src/util/tryCatch.ts","../../../../../../node_modules/src/util/errorObject.ts","../../../../../../node_modules/src/util/isObject.ts","../../../../../../node_modules/src/util/isFunction.ts","../../../../../../node_modules/src/util/root.ts","../../../../../../node_modules/src/util/isNumeric.ts","../../../../../../node_modules/src/util/isArray.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/services/vg-fullscreen-api.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/services/vg-utils.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/services/vg-api.ts","../../../../../build/core/dist/@videogular/~/@videogular/core/src/states/vg-states.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {VgControls as ɵa} from './vg-controls';\nexport {VgFullscreen as ɵb} from './vg-fullscreen/vg-fullscreen';\nexport {VgMute as ɵc} from './vg-mute/vg-mute';\nexport {VgPlayPause as ɵe} from './vg-play-pause/vg-play-pause';\nexport {VgPlaybackButton as ɵf} from './vg-playback-button/vg-playback-button';\nexport {VgScrubBar as ɵg} from './vg-scrub-bar/vg-scrub-bar';\nexport {VgScrubBarBufferingTime as ɵh} from './vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time';\nexport {VgScrubBarCuePoints as ɵi} from './vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points';\nexport {VgScrubBarCurrentTime as ɵj} from './vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time';\nexport {VgTimeDisplay as ɵl,VgUtcPipe as ɵk} from './vg-time-display/vg-time-display';\nexport {VgTrackSelector as ɵm} from './vg-track-selector/vg-track-selector';\nexport {VgVolume as ɵd} from './vg-volume/vg-volume';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VgControls } from './vg-controls';\nimport { VgFullscreen } from './vg-fullscreen/vg-fullscreen';\nimport { VgMute } from './vg-mute/vg-mute';\nimport { VgVolume } from './vg-volume/vg-volume';\nimport { VgPlayPause } from './vg-play-pause/vg-play-pause';\nimport { VgPlaybackButton } from './vg-playback-button/vg-playback-button';\nimport { VgScrubBar } from './vg-scrub-bar/vg-scrub-bar';\nimport { VgScrubBarBufferingTime } from './vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time';\nimport { VgScrubBarCuePoints } from './vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points';\nimport { VgScrubBarCurrentTime } from './vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time';\nimport { VgTimeDisplay, VgUtcPipe } from './vg-time-display/vg-time-display';\nimport { VgTrackSelector } from './vg-track-selector/vg-track-selector';\nimport { VgAPI, VgControlsHidden } from '@videogular/core';\n\n@NgModule({\n    imports: [ CommonModule ],\n    declarations: [\n        VgControls,\n        VgFullscreen,\n        VgMute,\n        VgVolume,\n        VgPlayPause,\n        VgPlaybackButton,\n        VgScrubBar,\n        VgScrubBarBufferingTime,\n        VgScrubBarCuePoints,\n        VgScrubBarCurrentTime,\n        VgTimeDisplay,\n        VgUtcPipe,\n        VgTrackSelector\n    ],\n    exports: [\n        VgControls,\n        VgFullscreen,\n        VgMute,\n        VgVolume,\n        VgPlayPause,\n        VgPlaybackButton,\n        VgScrubBar,\n        VgScrubBarBufferingTime,\n        VgScrubBarCuePoints,\n        VgScrubBarCurrentTime,\n        VgTimeDisplay,\n        VgUtcPipe,\n        VgTrackSelector\n    ],\n    providers: [ VgAPI, VgControlsHidden ]\n})\nexport class VgControlsModule {\n}\n","import { Component, ElementRef, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\nexport interface Option {\n    id: string;\n    label: string;\n    selected: boolean;\n}\n\n@Component({\n    selector: 'vg-track-selector',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"container\">\n            <div class=\"track-selected\"\n                 [class.vg-icon-closed_caption]=\"!trackSelected\">\n                {{ trackSelected || '' }}\n            </div>\n\n            <select class=\"trackSelector\"\n                    (change)=\"selectTrack($event.target.value)\"\n                    tabindex=\"0\"\n                    aria-label=\"track selector\"\n                    [attr.aria-valuetext]=\"ariaValue\">\n                <option\n                    *ngFor=\"let track of tracks\"\n                    [value]=\"track.id\"\n                    [selected]=\"track.selected === true\">\n                    {{ track.label }}\n                </option>\n            </select>\n        </div>\n    `,\n    styles: [ `\n        vg-track-selector {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            width: 50px;\n            height: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-track-selector .container {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n\n            padding: 0;\n            margin: 5px;\n        }\n\n        vg-track-selector select.trackSelector {\n            width: 50px;\n            padding: 5px 8px;\n            border: none;\n            background: none;\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            color: transparent;\n            font-size: 16px;\n        }\n\n        vg-track-selector .track-selected {\n            position: absolute;\n            width: 100%;\n            height: 50px;\n            top: -6px;\n            text-align: center;\n            text-transform: uppercase;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n            padding-top: 2px;\n            pointer-events: none;\n        }\n\n        vg-track-selector .vg-icon-closed_caption:before {\n            width: 100%;\n        }\n    ` ]\n})\nexport class VgTrackSelector implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n    tracks: Array<Option>;\n    trackSelected: string;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue: string;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        const subs: Array<Option> = Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).children)\n            .filter((item: HTMLElement) => item.tagName === 'TRACK')\n            .filter((item: HTMLTrackElement) => item.kind === 'subtitles')\n            .map((item: HTMLTrackElement) => ({\n                label: item.label,\n                selected: item.default === true,\n                id: item.srclang\n            }));\n\n        this.tracks = [\n            ...subs,\n            {\n                id: null,\n                label: 'Off',\n                selected: subs.every((item: Option) => item.selected === false)\n            }\n        ];\n\n        const track: Option = this.tracks.filter((item: Option) => item.selected === true)[ 0 ];\n        this.trackSelected = track.id;\n        this.ariaValue = track.label;\n    }\n\n    selectTrack(trackId: string) {\n        this.trackSelected = (trackId === 'null') ? null : trackId;\n\n        this.ariaValue = 'No track selected';\n\n        Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).textTracks)\n            .forEach((item: TextTrack) => {\n                if (item.language === trackId) {\n                    this.ariaValue = item.label;\n                    item.mode = 'showing';\n                } else {\n                    item.mode = 'hidden';\n                }\n            });\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, Input, OnDestroy, OnInit, Pipe, PipeTransform, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n// Workaround until we can use UTC with Angular Date Pipe\n@Pipe({ name: 'vgUtc' })\nexport class VgUtcPipe implements PipeTransform {\n    transform(value: number, format: string): string {\n        let date = new Date(value);\n        let result = format;\n        let ss: string | number = date.getUTCSeconds();\n        let mm: string | number = date.getUTCMinutes();\n        let hh: string | number = date.getUTCHours();\n\n        if (ss < 10) {\n            ss = '0' + ss;\n        }\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n        if (hh < 10) {\n            hh = '0' + hh;\n        }\n\n        result = result.replace(/ss/g, <string>ss);\n        result = result.replace(/mm/g, <string>mm);\n        result = result.replace(/hh/g, <string>hh);\n\n        return result;\n    }\n}\n\n@Component({\n    selector: 'vg-time-display',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <span *ngIf=\"target?.isLive\">LIVE</span>\n        <span *ngIf=\"!target?.isLive\">{{ getTime() | vgUtc:vgFormat }}</span>\n        <ng-content></ng-content>\n    `,\n    styles: [ `\n        vg-time-display {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 60px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            pointer-events: none;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n    ` ]\n})\nexport class VgTimeDisplay implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @Input() vgProperty: string = 'current';\n    @Input() vgFormat: string = 'mm:ss';\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getTime() {\n        let t = 0;\n\n        if (this.target) {\n            t = Math.round(this.target.time[ this.vgProperty ]);\n            t = isNaN(t) || this.target.isLive ? 0 : t;\n        }\n\n        return t;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-current-time',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"background\" [style.width]=\"getPercentage()\"></div><span class=\"slider\" *ngIf=\"vgSlider\"></span>`,\n    styles: [ `\n        vg-scrub-bar-current-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-current-time .background {\n            background-color: white;\n        }\n\n        vg-controls vg-scrub-bar-current-time {\n            position: absolute;\n            top: calc(50% - 3px);\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n\n        vg-controls vg-scrub-bar-current-time .background {\n            border: 1px solid white;\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n\n        vg-scrub-bar-current-time .slider {\n            background: white;\n            height: 15px;\n            width: 15px;\n            border-radius: 50%;\n            box-shadow: 0px 0px 10px black;\n            margin-top: -5px;\n            margin-left: -10px;\n        }\n    ` ]\n})\nexport class VgScrubBarCurrentTime implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @Input() vgSlider: boolean = false;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getPercentage() {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import {\n    Component,\n    ElementRef,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    SimpleChange,\n    ViewEncapsulation\n} from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-cue-points',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"cue-point-container\">\n            <span *ngFor=\"let cp of cuePoints\" [style.width]=\"cp.$$style?.width\" [style.left]=\"cp.$$style?.left\"\n                  class=\"cue-point\"></span>\n        </div>\n    `,\n    styles: [ `\n        vg-scrub-bar-cue-points {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-cue-points .cue-point-container .cue-point {\n            position: absolute;\n            height: 5px;\n            background-color: rgba(255, 204, 0, 0.7);\n        }\n\n        vg-controls vg-scrub-bar-cue-points {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n    ` ]\n})\nexport class VgScrubBarCuePoints implements OnInit, OnChanges, OnDestroy {\n    @Input() vgCuePoints: TextTrackCueList;\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n    onLoadedMetadataCalled: boolean = false;\n    cuePoints: Array<any> = [];\n\n    subscriptions: Subscription[] = [];\n\n    totalCues = 0;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        let onTimeUpdate = this.target.subscriptions.loadedMetadata;\n        this.subscriptions.push(onTimeUpdate.subscribe(this.onLoadedMetadata.bind(this)));\n\n        if (this.onLoadedMetadataCalled) {\n            this.onLoadedMetadata();\n        }\n    }\n\n    onLoadedMetadata() {\n        if (this.vgCuePoints) {\n            // We need to transform the TextTrackCueList to Array or it doesn't work on IE11/Edge.\n            // See: https://github.com/videogular/videogular2/issues/369\n            this.cuePoints = [];\n\n            for (let i = 0, l = this.vgCuePoints.length; i < l; i++) {\n                let end = (this.vgCuePoints[ i ].endTime >= 0) ? this.vgCuePoints[ i ].endTime : this.vgCuePoints[ i ].startTime + 1;\n                let cuePointDuration = (end - this.vgCuePoints[ i ].startTime) * 1000;\n                let position = '0';\n                let percentWidth = '0';\n\n                if (typeof cuePointDuration === 'number' && this.target.time.total) {\n                    percentWidth = ((cuePointDuration * 100) / this.target.time.total) + \"%\";\n                    position = (this.vgCuePoints[ i ].startTime * 100 / (Math.round(this.target.time.total / 1000))) + \"%\";\n                }\n\n                (<any>this.vgCuePoints[ i ]).$$style = {\n                    width: percentWidth,\n                    left: position\n                };\n\n                this.cuePoints.push(this.vgCuePoints[ i ]);\n            }\n        }\n    }\n\n    updateCuePoints() {\n        if (!this.target) {\n            this.onLoadedMetadataCalled = true;\n            return;\n        }\n        this.onLoadedMetadata();\n    }\n\n    ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n        if (changes[ 'vgCuePoints' ].currentValue) {\n            this.updateCuePoints();\n        }\n    }\n\n    ngDoCheck() {\n        if (this.vgCuePoints) {\n            const changes = this.totalCues !== this.vgCuePoints.length;\n\n            if (changes) {\n                this.totalCues = this.vgCuePoints.length;\n                this.updateCuePoints();\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-buffering-time',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"background\" [style.width]=\"getBufferTime()\"></div>`,\n    styles: [ `\n        vg-scrub-bar-buffering-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-buffering-time .background {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        vg-controls vg-scrub-bar-buffering-time {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n\n        vg-controls vg-scrub-bar-buffering-time .background {\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n    ` ]\n})\nexport class VgScrubBarBufferingTime implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getBufferTime() {\n        let bufferTime = \"0%\";\n\n        if (this.target && this.target.buffer && this.target.buffered.length) {\n            if (this.target.time.total === 0) {\n                bufferTime = '0%';\n            }\n            else {\n                bufferTime = ((this.target.buffer.end / this.target.time.total) * 100) + '%';\n            }\n        }\n\n        return bufferTime;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import {\n    Component,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    OnDestroy,\n    OnInit,\n    ViewEncapsulation\n} from '@angular/core';\nimport { VgAPI, VgControlsHidden, VgStates } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"scrubBar\"\n             tabindex=\"0\"\n             role=\"slider\"\n             aria-label=\"scrub bar\"\n             aria-level=\"polite\"\n             [attr.aria-valuenow]=\"getPercentage()\"\n             aria-valuemin=\"0\"\n             aria-valuemax=\"100\"\n             [attr.aria-valuetext]=\"getPercentage() + '%'\">\n            <ng-content></ng-content>\n        </div>\n\n    `,\n    styles: [ `\n        vg-scrub-bar {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            position: absolute;\n            width: 100%;\n            height: 5px;\n            bottom: 50px;\n            margin: 0;\n            cursor: pointer;\n            align-items: center;\n            background: rgba(0, 0, 0, 0.75);\n            z-index: 250;\n            -webkit-transition: bottom 1s, opacity 0.5s;\n            -khtml-transition: bottom 1s, opacity 0.5s;\n            -moz-transition: bottom 1s, opacity 0.5s;\n            -ms-transition: bottom 1s, opacity 0.5s;\n            transition: bottom 1s, opacity 0.5s;\n        }\n\n        vg-scrub-bar .scrubBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n            height: 100%;\n        }\n\n        vg-controls vg-scrub-bar {\n            position: relative;\n            bottom: 0;\n            background: transparent;\n            height: 50px;\n            flex-grow: 1;\n            flex-basis: 0;\n            margin: 0 10px;\n            -webkit-transition: initial;\n            -khtml-transition: initial;\n            -moz-transition: initial;\n            -ms-transition: initial;\n            transition: initial;\n        }\n\n        vg-scrub-bar.hide {\n            bottom: 0;\n            opacity: 0;\n        }\n\n        vg-controls vg-scrub-bar.hide {\n            bottom: initial;\n            opacity: initial;\n        }\n    ` ]\n})\nexport class VgScrubBar implements OnInit, OnDestroy {\n    @HostBinding('class.hide') hideScrubBar: boolean = false;\n\n    @Input() vgFor: string;\n    @Input() vgSlider: boolean = true;\n\n    elem: HTMLElement;\n    target: any;\n    isSeeking: boolean = false;\n    wasPlaying: boolean = false;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI, vgControlsHiddenState: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(vgControlsHiddenState.isHidden.subscribe(hide => this.onHideScrubBar(hide)));\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    protected seekStart() {\n        if (this.target.canPlay) {\n            this.isSeeking = true;\n            if (this.target.state === VgStates.VG_PLAYING) {\n                this.wasPlaying = true;\n            }\n            this.target.pause();\n        }\n    }\n\n    protected seekMove(offset: number) {\n        if (this.isSeeking) {\n            let percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.time.current = percentage * this.target.time.total / 100;\n            this.target.seekTime(percentage, true);\n        }\n    }\n\n    protected seekEnd(offset: number) {\n        this.isSeeking = false;\n        if (this.target.canPlay) {\n            let percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.seekTime(percentage, true);\n            if (this.wasPlaying) {\n                this.wasPlaying = false;\n                this.target.play();\n            }\n        }\n    }\n\n    protected touchEnd() {\n        this.isSeeking = false;\n        if (this.wasPlaying) {\n            this.wasPlaying = false;\n            this.target.play();\n        }\n    }\n\n    protected getTouchOffset(event: any) {\n        let offsetLeft: number = 0;\n        let element: any = event.target;\n        while (element) {\n            offsetLeft += element.offsetLeft;\n            element = element.offsetParent;\n        }\n        return event.touches[ 0 ].pageX - offsetLeft;\n    }\n\n    @HostListener('mousedown', [ '$event' ])\n    onMouseDownScrubBar($event: any) {\n        if (!this.target.isLive) {\n            if (!this.vgSlider) {\n                this.seekEnd($event.offsetX);\n            }\n            else {\n                this.seekStart();\n            }\n        }\n    }\n\n    @HostListener('mousemove', [ '$event' ])\n    onMouseMoveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekMove($event.offsetX);\n        }\n    }\n\n    @HostListener('mouseout', [ '$event' ])\n    onMouseOutScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekEnd($event.offsetX);\n        }\n    }\n\n    @HostListener('mouseup', [ '$event' ])\n    onMouseUpScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.seekEnd($event.offsetX);\n        }\n    }\n\n    @HostListener('touchstart', [ '$event' ])\n    onTouchStartScrubBar($event: any) {\n        if (!this.target.isLive) {\n            if (!this.vgSlider) {\n                this.seekEnd(this.getTouchOffset($event));\n            }\n            else {\n                this.seekStart();\n            }\n        }\n    }\n\n    @HostListener('touchmove', [ '$event' ])\n    onTouchMoveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekMove(this.getTouchOffset($event));\n        }\n    }\n\n    @HostListener('touchcancel', [ '$event' ])\n    onTouchCancelScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('touchend', [ '$event' ])\n    onTouchEndScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('touchleave', [ '$event' ])\n    onTouchLeaveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('keydown', [ '$event' ])\n    arrowAdjustVolume(event: KeyboardEvent) {\n        if (event.keyCode === 38 || event.keyCode === 39) {\n            event.preventDefault();\n            this.target.seekTime((this.target.time.current + 5000) / 1000, false);\n        }\n        else if (event.keyCode === 37 || event.keyCode === 40) {\n            event.preventDefault();\n            this.target.seekTime((this.target.time.current - 5000) / 1000, false);\n        }\n    }\n\n    getPercentage() {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    }\n\n    onHideScrubBar(hide: boolean) {\n        this.hideScrubBar = hide;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-playback-button',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n    <span class=\"button\"\n          tabindex=\"0\"\n          role=\"button\"\n          aria-label=\"playback speed button\"\n          [attr.aria-valuetext]=\"ariaValue\">\n        {{getPlaybackRate()}}x\n    </span>`,\n    styles: [ `\n        vg-playback-button {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n\n        vg-playback-button .button {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 50px;\n        }\n    ` ]\n})\nexport class VgPlaybackButton implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    @Input() playbackValues: Array<string>;\n    playbackIndex: number;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 1;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n        this.playbackValues = [ '0.5', '1.0', '1.5', '2.0' ];\n        this.playbackIndex = 1;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.updatePlaybackSpeed();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.updatePlaybackSpeed();\n        }\n    }\n\n    updatePlaybackSpeed() {\n        this.playbackIndex = ++this.playbackIndex % this.playbackValues.length;\n\n        if (this.target instanceof VgAPI) {\n            this.target.playbackRate = (this.playbackValues[ this.playbackIndex ]);\n        }\n        else {\n            this.target.playbackRate[ this.vgFor ] = (this.playbackValues[ this.playbackIndex ]);\n        }\n    }\n\n    getPlaybackRate() {\n        this.ariaValue = this.target ? this.target.playbackRate : 1.0;\n        return this.ariaValue;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, HostListener, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI, VgStates } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-play-pause',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-pause]=\"getState() === 'playing'\"\n             [class.vg-icon-play_arrow]=\"getState() === 'paused' || getState() === 'ended'\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"play pause button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-play-pause {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-play-pause .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgPlayPause implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = VgStates.VG_PAUSED;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.playPause();\n    }\n\n    @HostListener('keydown', [ '$event' ])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.playPause();\n        }\n    }\n\n    playPause() {\n        let state = this.getState();\n\n        switch (state) {\n            case VgStates.VG_PLAYING:\n                this.target.pause();\n                break;\n\n            case VgStates.VG_PAUSED:\n            case VgStates.VG_ENDED:\n                this.target.play();\n                break;\n        }\n    }\n\n    getState() {\n        this.ariaValue = this.target ? this.target.state : VgStates.VG_PAUSED;\n        return this.ariaValue;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import {\n    Component,\n    ElementRef,\n    HostListener,\n    Input,\n    OnDestroy,\n    OnInit,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-volume',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div\n            #volumeBar\n            class=\"volumeBar\"\n            tabindex=\"0\"\n            role=\"slider\"\n            aria-label=\"volume level\"\n            aria-level=\"polite\"\n            [attr.aria-valuenow]=\"ariaValue\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            [attr.aria-valuetext]=\"ariaValue + '%'\"\n            (click)=\"onClick($event)\"\n            (mousedown)=\"onMouseDown($event)\">\n            <div class=\"volumeBackground\" [ngClass]=\"{dragging: isDragging}\">\n                <div class=\"volumeValue\" [style.width]=\"(getVolume() * (100-15)) + '%'\"></div>\n                <div class=\"volumeKnob\" [style.left]=\"(getVolume() * (100-15)) + '%'\"></div>\n            </div>\n        </div>\n    `,\n    styles: [ `\n        vg-volume {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 100px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-volume .volumeBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n        }\n\n        vg-volume .volumeBackground {\n            display: flex;\n            flex-grow: 1;\n            height: 5px;\n            pointer-events: none;\n            background-color: #333;\n        }\n\n        vg-volume .volumeValue {\n            display: flex;\n            height: 5px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition: all 0.2s ease-out;\n        }\n\n        vg-volume .volumeKnob {\n            position: absolute;\n            width: 15px;\n            height: 15px;\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n            border-radius: 15px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition: all 0.2s ease-out;\n        }\n\n        vg-volume .volumeBackground.dragging .volumeValue,\n        vg-volume .volumeBackground.dragging .volumeKnob {\n            transition: none;\n        }\n    ` ]\n})\nexport class VgVolume implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @ViewChild('volumeBar') volumeBarRef: ElementRef;\n\n    elem: HTMLElement;\n    target: any;\n    isDragging: boolean;\n    mouseDownPosX: number;\n    ariaValue: number;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n        this.isDragging = false;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.ariaValue = this.getVolume() * 100;\n    }\n\n    onClick(event: { clientX: number }) {\n        this.setVolume(this.calculateVolume(event.clientX));\n    }\n\n    onMouseDown(event: { clientX: number }) {\n        this.mouseDownPosX = event.clientX;\n        this.isDragging = true;\n    }\n\n    @HostListener('document:mousemove', [ '$event' ])\n    onDrag(event: { clientX: number }) {\n        if (this.isDragging) {\n            this.setVolume(this.calculateVolume(event.clientX));\n        }\n    }\n\n    @HostListener('document:mouseup', [ '$event' ])\n    onStopDrag(event: { clientX: number }) {\n        if (this.isDragging) {\n            this.isDragging = false;\n            if (this.mouseDownPosX === event.clientX) {\n                this.setVolume(this.calculateVolume(event.clientX));\n            }\n        }\n    }\n\n    @HostListener('keydown', [ '$event' ])\n    arrowAdjustVolume(event: KeyboardEvent) {\n        if (event.keyCode === 38 || event.keyCode === 39) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100, (this.getVolume() * 100) + 10)));\n        }\n        else if (event.keyCode === 37 || event.keyCode === 40) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100, (this.getVolume() * 100) - 10)));\n        }\n    }\n\n    calculateVolume(mousePosX: number) {\n        const recObj = this.volumeBarRef.nativeElement.getBoundingClientRect();\n        const volumeBarOffsetLeft: number = recObj.left;\n        const volumeBarWidth: number = recObj.width;\n        return (mousePosX - volumeBarOffsetLeft) / volumeBarWidth * 100;\n    }\n\n    setVolume(vol: number) {\n        this.target.volume = Math.max(0, Math.min(1, vol / 100));\n        this.ariaValue = this.target.volume * 100;\n    }\n\n    getVolume(): number {\n        return this.target ? this.target.volume : 0;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, HostListener, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n\n@Component({\n    selector: 'vg-mute',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-volume_up]=\"getVolume() >= 0.75\"\n             [class.vg-icon-volume_down]=\"getVolume() >= 0.25 && getVolume() < 0.75\"\n             [class.vg-icon-volume_mute]=\"getVolume() > 0 && getVolume() < 0.25\"\n             [class.vg-icon-volume_off]=\"getVolume() === 0\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"mute button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-mute {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-mute .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgMute implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    elem: HTMLElement;\n    target: any;\n\n    currentVolume: number;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 'unmuted';\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.currentVolume = this.target.volume;\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.changeMuteState();\n    }\n\n    @HostListener('keydown', [ '$event' ])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeMuteState();\n        }\n    }\n\n    changeMuteState() {\n        let volume = this.getVolume();\n\n        if (volume === 0) {\n            this.target.volume = this.currentVolume;\n        }\n        else {\n            this.currentVolume = volume;\n            this.target.volume = 0;\n        }\n    }\n\n    getVolume() {\n        const volume = this.target ? this.target.volume : 0;\n        this.ariaValue = volume ? 'unmuted' : 'muted';\n        return volume;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Component, ElementRef, HostListener, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '@videogular/core';\nimport { VgFullscreenAPI } from '@videogular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\n\n@Component({\n    selector: 'vg-fullscreen',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-fullscreen]=\"!isFullscreen\"\n             [class.vg-icon-fullscreen_exit]=\"isFullscreen\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"fullscreen button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-fullscreen {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-fullscreen .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgFullscreen implements OnInit, OnDestroy {\n    elem: HTMLElement;\n    vgFor: string;\n    target: Object;\n    isFullscreen: boolean = false;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 'normal mode';\n\n    constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI) {\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    onChangeFullscreen(fsState: boolean) {\n        this.ariaValue = fsState ? 'fullscren mode' : 'normal mode';\n        this.isFullscreen = fsState;\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.changeFullscreenState();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeFullscreenState();\n        }\n    }\n\n    changeFullscreenState() {\n        let element = this.target;\n\n        if (this.target instanceof VgAPI) {\n            element = null;\n        }\n\n        this.fsAPI.toggleFullscreen(element);\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { AfterViewInit, Component, ElementRef, HostBinding, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { VgAPI, VgControlsHidden, VgStates } from '@videogular/core';\nimport 'rxjs/add/observable/fromEvent';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-controls',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <ng-content></ng-content>`,\n    styles: [ `\n        vg-controls {\n            position: absolute;\n            display: flex;\n            width: 100%;\n            height: 50px;\n            z-index: 300;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.5);\n            -webkit-transition: bottom 1s;\n            -khtml-transition: bottom 1s;\n            -moz-transition: bottom 1s;\n            -ms-transition: bottom 1s;\n            transition: bottom 1s;\n        }\n\n        vg-controls.hide {\n            bottom: -50px;\n        }\n    ` ]\n})\nexport class VgControls implements OnInit, AfterViewInit {\n    elem: HTMLElement;\n    target: any;\n\n    @HostBinding('style.pointer-events') isAdsPlaying: string = 'initial';\n    @HostBinding('class.hide') hideControls: boolean = false;\n\n    @Input() vgFor: string;\n    @Input() vgAutohide: boolean = false;\n    @Input() vgAutohideTime: number = 3;\n\n    private timer: any;\n    private hideTimer: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(private API: VgAPI, private ref: ElementRef, private hidden: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        let mouseMove = Observable.fromEvent(this.API.videogularElement, 'mousemove');\n        this.subscriptions.push(mouseMove.subscribe(this.show.bind(this)));\n\n        let touchStart = Observable.fromEvent(this.API.videogularElement, 'touchstart');\n        this.subscriptions.push(touchStart.subscribe(this.show.bind(this)));\n\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)));\n    }\n\n    ngAfterViewInit() {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n\n    onPlay() {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n    }\n\n    onPause() {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n    }\n\n    onStartAds() {\n        this.isAdsPlaying = 'none';\n    }\n\n    onEndAds() {\n        this.isAdsPlaying = 'initial';\n    }\n\n    hide() {\n        if (this.vgAutohide) {\n            clearTimeout(this.timer);\n            this.hideAsync();\n        }\n    }\n\n    show() {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n\n        if (this.vgAutohide) {\n            this.hideAsync();\n        }\n    }\n\n    private hideAsync() {\n        if (this.API.state === VgStates.VG_PLAYING) {\n            this.timer = setTimeout(() => {\n                this.hideControls = true;\n                this.hidden.state(true);\n            }, this.vgAutohideTime * 1000);\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","export * from './core.module';\n\n// CustomEvent polyfill for IE9/10/11\n(function () {\n\n    if ( typeof window === \"undefined\" || typeof window['CustomEvent'] === \"function\" ) return false;\n\n    function CustomEvent ( event, params ) {\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        var evt = document.createEvent( 'CustomEvent' );\n        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n        return evt;\n    }\n\n    CustomEvent.prototype = window['Event'].prototype;\n\n    window['CustomEvent'] = CustomEvent;\n})();\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VgPlayer } from './vg-player/vg-player';\nimport { VgMedia } from './vg-media/vg-media';\nimport { VgCuePoints } from './vg-cue-points/vg-cue-points';\nimport { VgAPI } from './services/vg-api';\nimport { VgFullscreenAPI } from './services/vg-fullscreen-api';\nimport { VgUtils } from './services/vg-utils';\nimport { VgControlsHidden } from './services/vg-controls-hidden';\n\n// components\nexport * from './vg-player/vg-player';\nexport * from './vg-media/vg-media';\nexport * from './vg-cue-points/vg-cue-points';\n\n// services\nexport * from './services/vg-api';\nexport * from './services/vg-fullscreen-api';\nexport * from './services/vg-utils';\nexport * from './services/vg-controls-hidden';\n\n// types\nexport * from './events/vg-events';\nexport * from './states/vg-states';\n\nconst CORE_DECLARATIONS = [\n    VgPlayer, VgMedia, VgCuePoints\n];\n\n@NgModule({\n    imports: [ CommonModule ],\n    declarations: [ CORE_DECLARATIONS ],\n    exports: [ CORE_DECLARATIONS ],\n    providers: [ VgAPI, VgFullscreenAPI, VgUtils, VgControlsHidden ]\n})\nexport class VgCoreModule {\n}\n","import { Directive, ElementRef, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core';\nimport { VgEvents } from '../events/vg-events';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Directive({\n    selector: '[vgCuePoints]'\n})\nexport class VgCuePoints implements OnInit, OnDestroy {\n    @Output('onEnterCuePoint') onEnterCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onUpdateCuePoint') onUpdateCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onExitCuePoint') onExitCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onCompleteCuePoint') onCompleteCuePoint: EventEmitter<any> = new EventEmitter();\n\n    subscriptions: Subscription[] = [];\n    cuesSubscriptions: Subscription[] = [];\n\n    totalCues = 0;\n\n    constructor(public ref: ElementRef) {\n    }\n\n    ngOnInit() {\n        let onLoad = Observable.fromEvent(this.ref.nativeElement, VgEvents.VG_LOAD);\n        this.subscriptions.push(onLoad.subscribe(this.onLoad.bind(this)));\n    }\n\n    onLoad(event: any) {\n        let cues: TextTrackCue[] = event.target.track.cues;\n\n        this.ref.nativeElement.cues = cues;\n\n        this.updateCuePoints(cues);\n    }\n\n    updateCuePoints(cues: TextTrackCue[]) {\n        this.cuesSubscriptions.forEach(s => s.unsubscribe());\n\n        for (let i = 0, l = cues.length; i < l; i++) {\n            let onEnter = Observable.fromEvent(cues[ i ], VgEvents.VG_ENTER);\n            this.cuesSubscriptions.push(onEnter.subscribe(this.onEnter.bind(this)));\n\n            let onExit = Observable.fromEvent(cues[ i ], VgEvents.VG_EXIT);\n            this.cuesSubscriptions.push(onExit.subscribe(this.onExit.bind(this)));\n        }\n    }\n\n    onEnter(event: any) {\n        this.onEnterCuePoint.next(event.target);\n    }\n\n    onExit(event: any) {\n        this.onExitCuePoint.next(event.target);\n    }\n\n    ngDoCheck() {\n        if (this.ref.nativeElement.cues) {\n            const changes = this.totalCues !== this.ref.nativeElement.track.cues.length;\n\n            if (changes) {\n                this.totalCues = this.ref.nativeElement.track.cues.length;\n                this.ref.nativeElement.cues = this.ref.nativeElement.track.cues;\n                this.updateCuePoints(this.ref.nativeElement.track.cues);\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import {\n    Output,\n    Component,\n    EventEmitter,\n    ElementRef,\n    HostBinding,\n    QueryList,\n    AfterContentInit,\n    ContentChildren, ViewEncapsulation, OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../services/vg-api';\nimport { VgFullscreenAPI } from '../services/vg-fullscreen-api';\nimport { VgUtils } from '../services/vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription } from 'rxjs/Subscription';\nimport { VgControlsHidden } from '../services/vg-controls-hidden';\n\n@Component({\n    selector: 'vg-player',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n      <ng-content></ng-content>\n    `,\n    styles: [`\n      vg-player {\n        font-family: 'videogular';\n        position: relative;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: black; }\n        vg-player.fullscreen {\n          position: fixed;\n          left: 0;\n          top: 0; }\n        vg-player.native-fullscreen.controls-hidden {\n          cursor: none; }\n    `],\n    providers: [ VgAPI, VgFullscreenAPI, VgControlsHidden ]\n})\nexport class VgPlayer implements AfterContentInit, OnDestroy {\n    elem: HTMLElement;\n\n    @HostBinding('class.fullscreen') isFullscreen: boolean = false;\n    @HostBinding('class.native-fullscreen') isNativeFullscreen: boolean = false;\n    @HostBinding('class.controls-hidden') areControlsHidden: boolean = false;\n    @HostBinding('style.z-index') zIndex: string;\n\n    @Output()\n    onPlayerReady: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    onMediaReady: EventEmitter<any> = new EventEmitter();\n\n    @ContentChildren(VgMedia)\n    medias: QueryList<VgMedia>;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public api: VgAPI, public fsAPI: VgFullscreenAPI, private controlsHidden: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n\n        this.api.registerElement(this.elem);\n    }\n\n    ngAfterContentInit() {\n        this.medias.toArray().forEach((media) => {\n            this.api.registerMedia(media);\n        });\n\n        this.fsAPI.init(this.elem, this.medias);\n\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n        this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n\n        this.api.onPlayerReady(this.fsAPI);\n        this.onPlayerReady.next(this.api);\n    }\n\n    onChangeFullscreen(fsState: boolean) {\n        if (!this.fsAPI.nativeFullscreen) {\n            this.isFullscreen = fsState;\n            this.zIndex = fsState ? VgUtils.getZIndex().toString() : 'auto';\n        } else {\n            this.isNativeFullscreen = fsState;\n        }\n    }\n\n    onHideControls(hidden: boolean) {\n        this.areControlsHidden = hidden;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","import { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VgControlsHidden {\n    isHidden: Observable<boolean>;\n\n    private isHiddenSubject: Subject<boolean> = new Subject<boolean>();\n\n    constructor() {\n        this.isHidden = this.isHiddenSubject.asObservable();\n    }\n\n    state(hidden: boolean) {\n        this.isHiddenSubject.next(hidden);\n    }\n}\n","import { ChangeDetectorRef, ElementRef, OnInit, Directive, Input, OnDestroy } from \"@angular/core\";\nimport { IPlayable, IMediaSubscriptions } from \"./i-playable\";\nimport { Observable } from \"rxjs/Observable\";\nimport { TimerObservable } from \"rxjs/observable/TimerObservable\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { Observer } from \"rxjs/Observer\";\nimport { VgStates } from '../states/vg-states';\nimport { VgAPI } from '../services/vg-api';\nimport { VgEvents } from '../events/vg-events';\nimport { Subject } from 'rxjs/Subject';\n\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/combineLatest';\n\n@Directive({\n    selector: '[vgMedia]'\n})\nexport class VgMedia implements OnInit, OnDestroy, IPlayable {\n    elem: any;\n\n    @Input() vgMedia: any;\n    @Input() vgMaster: boolean;\n\n    state: string = VgStates.VG_PAUSED;\n\n    time: any = { current: 0, total: 0, left: 0 };\n    buffer: any = { end: 0 };\n    subscriptions: IMediaSubscriptions | any;\n\n    canPlay: boolean = false;\n    canPlayThrough: boolean = false;\n    isBufferDetected: boolean = false;\n    isMetadataLoaded: boolean = false;\n    isReadyToPlay: boolean = false;\n    isWaiting: boolean = false;\n    isCompleted: boolean = false;\n    isLive: boolean = false;\n\n\n    checkInterval: number = 200;\n    currentPlayPos: number = 0;\n    lastPlayPos: number = 0;\n\n    checkBufferSubscription: any;\n    syncSubscription: Subscription;\n    canPlayAllSubscription: any;\n    playAtferSync: boolean = false;\n\n    mutationObs: Subscription;\n    canPlayObs: Subscription;\n    canPlayThroughObs: Subscription;\n    loadedMetadataObs: Subscription;\n    waitingObs: Subscription;\n    progressObs: Subscription;\n    endedObs: Subscription;\n    playingObs: Subscription;\n    playObs: Subscription;\n    pauseObs: Subscription;\n    timeUpdateObs: Subscription;\n    volumeChangeObs: Subscription;\n    errorObs: Subscription;\n\n    bufferDetected: Subject<boolean> = new Subject();\n\n    playPromise: Promise<any>;\n\n    constructor(private api: VgAPI, private ref: ChangeDetectorRef) {\n\n    }\n\n    ngOnInit() {\n        if (this.vgMedia.nodeName) {\n            // It's a native element\n            this.elem = this.vgMedia;\n        } else {\n            // It's an Angular Class\n            this.elem = this.vgMedia.elem;\n        }\n\n        // Just in case we're creating this vgMedia dynamically register again into API\n        this.api.registerMedia(this);\n\n        this.subscriptions = {\n            // Native events\n            abort: Observable.fromEvent(<any>this.elem, VgEvents.VG_ABORT),\n            canPlay: Observable.fromEvent(<any>this.elem, VgEvents.VG_CAN_PLAY),\n            canPlayThrough: Observable.fromEvent(<any>this.elem, VgEvents.VG_CAN_PLAY_THROUGH),\n            durationChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_DURATION_CHANGE),\n            emptied: Observable.fromEvent(<any>this.elem, VgEvents.VG_EMPTIED),\n            encrypted: Observable.fromEvent(<any>this.elem, VgEvents.VG_ENCRYPTED),\n            ended: Observable.fromEvent(<any>this.elem, VgEvents.VG_ENDED),\n            error: Observable.fromEvent(<any>this.elem, VgEvents.VG_ERROR),\n            loadedData: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOADED_DATA),\n            loadedMetadata: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOADED_METADATA),\n            loadStart: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOAD_START),\n            pause: Observable.fromEvent(<any>this.elem, VgEvents.VG_PAUSE),\n            play: Observable.fromEvent(<any>this.elem, VgEvents.VG_PLAY),\n            playing: Observable.fromEvent(<any>this.elem, VgEvents.VG_PLAYING),\n            progress: Observable.fromEvent(<any>this.elem, VgEvents.VG_PROGRESS),\n            rateChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_RATE_CHANGE),\n            seeked: Observable.fromEvent(<any>this.elem, VgEvents.VG_SEEKED),\n            seeking: Observable.fromEvent(<any>this.elem, VgEvents.VG_SEEKING),\n            stalled: Observable.fromEvent(<any>this.elem, VgEvents.VG_STALLED),\n            suspend: Observable.fromEvent(<any>this.elem, VgEvents.VG_SUSPEND),\n            timeUpdate: Observable.fromEvent(<any>this.elem, VgEvents.VG_TIME_UPDATE),\n            volumeChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_VOLUME_CHANGE),\n            waiting: Observable.fromEvent(<any>this.elem, VgEvents.VG_WAITING),\n\n            // Advertisement only events\n            startAds: Observable.fromEvent(<any>window, VgEvents.VG_START_ADS),\n            endAds: Observable.fromEvent(<any>window, VgEvents.VG_END_ADS),\n\n            // See changes on <source> child elements to reload the video file\n            mutation: Observable.create(\n                (observer: any) => {\n\n                    let domObs = new MutationObserver((mutations) => {\n                        observer.next(mutations);\n                    });\n\n                    domObs.observe(<any>this.elem, { childList: true, attributes: true });\n\n                    return () => {\n                        domObs.disconnect();\n                    };\n                }\n            ),\n\n            // Custom buffering detection\n            bufferDetected: this.bufferDetected\n        };\n\n        this.mutationObs = this.subscriptions.mutation.subscribe(this.onMutation.bind(this));\n        this.canPlayObs = this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this));\n        this.canPlayThroughObs = this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this));\n        this.loadedMetadataObs = this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this));\n        this.waitingObs = this.subscriptions.waiting.subscribe(this.onWait.bind(this));\n        this.progressObs = this.subscriptions.progress.subscribe(this.onProgress.bind(this));\n        this.endedObs = this.subscriptions.ended.subscribe(this.onComplete.bind(this));\n        this.playingObs = this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this));\n        this.playObs = this.subscriptions.play.subscribe(this.onPlay.bind(this));\n        this.pauseObs = this.subscriptions.pause.subscribe(this.onPause.bind(this));\n        this.timeUpdateObs = this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this));\n        this.volumeChangeObs = this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this));\n        this.errorObs = this.subscriptions.error.subscribe(this.onError.bind(this));\n\n        if (this.vgMaster) {\n            this.api.playerReadyEvent.subscribe(\n                () => {\n                    this.prepareSync();\n                }\n            );\n        }\n    }\n\n    prepareSync() {\n        let canPlayAll: Array<Observable<any>> = [];\n\n        for (let media in this.api.medias) {\n            if (this.api.medias[ media ]) {\n                canPlayAll.push(this.api.medias[ media ].subscriptions.canPlay);\n            }\n        }\n\n        this.canPlayAllSubscription = Observable.combineLatest(canPlayAll,\n            (...params) => {\n                let allReady: boolean = params.some(event => event.target.readyState === 4);\n\n                if (allReady && !this.syncSubscription) {\n                    this.startSync();\n                    this.syncSubscription.unsubscribe();\n                }\n            }\n        ).subscribe();\n    }\n\n    startSync() {\n        this.syncSubscription = TimerObservable.create(0, 1000).subscribe(\n            () => {\n                for (let media in this.api.medias) {\n                    if (this.api.medias[ media ] !== this) {\n                        let diff: number = this.api.medias[ media ].currentTime - this.currentTime;\n\n                        if (diff < -0.3 || diff > 0.3) {\n                            this.playAtferSync = (this.state === VgStates.VG_PLAYING);\n\n                            this.pause();\n                            this.api.medias[ media ].pause();\n                            this.api.medias[ media ].currentTime = this.currentTime;\n                        }\n                        else {\n                            if (this.playAtferSync) {\n                                this.play();\n                                this.api.medias[ media ].play();\n                                this.playAtferSync = false;\n                            }\n                        }\n                    }\n                }\n            }\n        );\n    }\n\n    onMutation(mutations: Array<MutationRecord>) {\n        // Detect changes only for source elements or src attribute\n        for (let i=0, l=mutations.length; i<l; i++) {\n            let mut: MutationRecord = mutations[i];\n\n            if (mut.type === 'attributes' && mut.attributeName === 'src') {\n                // Only load src file if it's not a blob (for DASH / HLS sources)\n                if (mut.target['src'] && mut.target['src'].length > 0 && mut.target['src'].indexOf('blob:') < 0) {\n                    this.loadMedia();\n                    break;\n                }\n            } else if (mut.type === 'childList' && mut.removedNodes.length && mut.removedNodes[0].nodeName.toLowerCase() === 'source') {\n                this.loadMedia();\n                break;\n            }\n        }\n    }\n\n    loadMedia() {\n        this.vgMedia.pause();\n        this.vgMedia.currentTime = 0;\n\n        // Start buffering until we can play the media file\n        this.stopBufferCheck();\n        this.isBufferDetected = true;\n        this.bufferDetected.next(this.isBufferDetected);\n\n        // TODO: This is ugly, we should find something cleaner. For some reason a TimerObservable doesn't works.\n        setTimeout(() => this.vgMedia.load(), 10);\n    }\n\n    play() {\n        // short-circuit if already playing\n        if (this.playPromise || (this.state !== VgStates.VG_PAUSED && this.state !== VgStates.VG_ENDED)) {\n            return;\n        }\n\n        this.playPromise = this.vgMedia.play();\n\n        // browser has async play promise\n        if (this.playPromise && this.playPromise.then && this.playPromise.catch) {\n            this.playPromise\n                .then(() => {\n                    this.playPromise = null;\n                })\n                .catch(() => {\n                    // deliberately empty for the sake of eating console noise\n                });\n        }\n    }\n\n    pause() {\n        // browser has async play promise\n        if (this.playPromise) {\n            this.playPromise\n                .then(() => {\n                    this.vgMedia.pause();\n                });\n        }\n        else {\n            this.vgMedia.pause();\n        }\n    }\n\n    get id() {\n        // We should return undefined if vgMedia still doesn't exist\n        let result = undefined;\n\n        if (this.vgMedia) {\n            result = this.vgMedia.id;\n        }\n\n        return result;\n    }\n\n    get duration() {\n        return this.vgMedia.duration;\n    }\n\n    set currentTime(seconds) {\n        this.vgMedia.currentTime = seconds;\n        // this.elem.dispatchEvent(new CustomEvent(VgEvents.VG_SEEK));\n    }\n\n    get currentTime() {\n        return this.vgMedia.currentTime;\n    }\n\n    set volume(volume) {\n        this.vgMedia.volume = volume;\n    }\n\n    get volume() {\n        return this.vgMedia.volume;\n    }\n\n    set playbackRate(rate) {\n        this.vgMedia.playbackRate = rate;\n    }\n\n    get playbackRate() {\n        return this.vgMedia.playbackRate;\n    }\n\n    get buffered() {\n        return this.vgMedia.buffered;\n    }\n\n    get textTracks() {\n        return this.vgMedia.textTracks;\n    }\n\n    onCanPlay(event: any) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlay = true;\n        this.ref.detectChanges();\n    }\n\n    onCanPlayThrough(event: any) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlayThrough = true;\n        this.ref.detectChanges();\n    }\n\n    onLoadMetadata(event: any) {\n        this.isMetadataLoaded = true;\n\n        this.time = {\n            current: 0,\n            left: 0,\n            total: this.duration * 1000\n        };\n\n        this.state = VgStates.VG_PAUSED;\n\n        // Live streaming check\n        let t:number = Math.round(this.time.total);\n        this.isLive = (t === Infinity);\n        this.ref.detectChanges();\n    }\n\n    onWait(event: any) {\n        this.isWaiting = true;\n        this.ref.detectChanges();\n    }\n\n    onComplete(event: any) {\n        this.isCompleted = true;\n        this.state = VgStates.VG_ENDED;\n        this.ref.detectChanges();\n    }\n\n    onStartPlaying(event: any) {\n        this.state = VgStates.VG_PLAYING;\n        this.ref.detectChanges();\n    }\n\n    onPlay(event: any) {\n        this.state = VgStates.VG_PLAYING;\n\n        if (this.vgMaster) {\n            if (!this.syncSubscription || this.syncSubscription.closed) {\n                this.startSync();\n            }\n        }\n\n        this.startBufferCheck();\n        this.ref.detectChanges();\n    }\n\n    onPause(event: any) {\n        this.state = VgStates.VG_PAUSED;\n\n        if (this.vgMaster) {\n            if (!this.playAtferSync) {\n                this.syncSubscription.unsubscribe();\n            }\n        }\n\n        this.stopBufferCheck();\n        this.ref.detectChanges();\n    }\n\n    onTimeUpdate(event: any) {\n        let end = this.buffered.length - 1;\n\n        this.time = {\n            current: this.currentTime * 1000,\n            total: this.time.total,\n            left: (this.duration - this.currentTime) * 1000\n        };\n\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    }\n\n    onProgress(event: any) {\n        let end = this.buffered.length - 1;\n\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    }\n\n    onVolumeChange(event: any) {\n        // TODO: Save to localstorage the current volume\n        this.ref.detectChanges();\n    }\n\n    onError(event: any) {\n        // TODO: Handle error messages\n        this.ref.detectChanges();\n    }\n\n    // http://stackoverflow.com/a/23828241/779529\n    bufferCheck() {\n        const offset = 1 / this.checkInterval;\n        this.currentPlayPos = this.currentTime;\n\n        if (!this.isBufferDetected && this.currentPlayPos < (this.lastPlayPos + offset)) {\n            this.isBufferDetected = true;\n        }\n\n        if (this.isBufferDetected && this.currentPlayPos > (this.lastPlayPos + offset)) {\n            this.isBufferDetected = false;\n        }\n\n        // Prevent calls to bufferCheck after ngOnDestroy have been called\n        if (!this.bufferDetected.closed) {\n            this.bufferDetected.next(this.isBufferDetected);\n        }\n\n        this.lastPlayPos = this.currentPlayPos;\n    }\n\n    startBufferCheck() {\n        this.checkBufferSubscription = TimerObservable.create(0, this.checkInterval).subscribe(\n            () => {\n                this.bufferCheck();\n            }\n        );\n    }\n\n    stopBufferCheck() {\n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n\n        this.isBufferDetected = false;\n\n        this.bufferDetected.next(this.isBufferDetected);\n    }\n\n    seekTime(value:number, byPercent:boolean = false) {\n        let second:number;\n        let duration:number = this.duration;\n\n        if (byPercent) {\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n\n        this.currentTime = second;\n    }\n\n    addTextTrack(type:string, label?:string, language?:string, mode?:'disabled' | 'hidden' | 'showing'): TextTrack {\n        const newTrack:TextTrack = this.vgMedia.addTextTrack(type, label, language);\n\n        if (mode) {\n            newTrack.mode = mode;\n        }\n        return newTrack;\n    }\n\n    ngOnDestroy() {\n        this.vgMedia.src = '';\n        this.mutationObs.unsubscribe();\n        this.canPlayObs.unsubscribe();\n        this.canPlayThroughObs.unsubscribe();\n        this.loadedMetadataObs.unsubscribe();\n        this.waitingObs.unsubscribe();\n        this.progressObs.unsubscribe();\n        this.endedObs.unsubscribe();\n        this.playingObs.unsubscribe();\n        this.playObs.unsubscribe();\n        this.pauseObs.unsubscribe();\n        this.timeUpdateObs.unsubscribe();\n        this.volumeChangeObs.unsubscribe();\n        this.errorObs.unsubscribe();\n        \n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n\n        if(this.syncSubscription) {\n            this.syncSubscription.unsubscribe();\n        }\n        \n        this.bufferDetected.complete();\n        this.bufferDetected.unsubscribe();\n\n        this.api.unregisterMedia(this);\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgEvents {\n    static VG_ABORT: string = 'abort';\n    static VG_CAN_PLAY: string = 'canplay';\n    static VG_CAN_PLAY_THROUGH: string = 'canplaythrough';\n    static VG_DURATION_CHANGE: string = 'durationchange';\n    static VG_EMPTIED: string = 'emptied';\n    static VG_ENCRYPTED: string = 'encrypted';\n    static VG_ENDED: string = 'ended';\n    static VG_ERROR: string = 'error';\n    static VG_LOADED_DATA: string = 'loadeddata';\n    static VG_LOADED_METADATA: string = 'loadedmetadata';\n    static VG_LOAD_START: string = 'loadstart';\n    static VG_PAUSE: string = 'pause';\n    static VG_PLAY: string = 'play';\n    static VG_PLAYING: string = 'playing';\n    static VG_PROGRESS: string = 'progress';\n    static VG_RATE_CHANGE: string = 'ratechange';\n    static VG_SEEK: string = 'seek';\n    static VG_SEEKED: string = 'seeked';\n    static VG_SEEKING: string = 'seeking';\n    static VG_STALLED: string = 'stalled';\n    static VG_SUSPEND: string = 'suspend';\n    static VG_TIME_UPDATE: string = 'timeupdate';\n    static VG_VOLUME_CHANGE: string = 'volumechange';\n    static VG_WAITING: string = 'waiting';\n    \n    static VG_LOAD: string = 'load';\n    static VG_ENTER: string = 'enter';\n    static VG_EXIT: string = 'exit';\n\n    static VG_START_ADS: string = 'startads';\n    static VG_END_ADS: string = 'endads';\n}\n","import { isNumeric } from '../util/isNumeric';\nimport { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isDate } from '../util/isDate';\nimport { TeardownLogic } from '../Subscription';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class TimerObservable extends Observable<number> {\n\n  /**\n   * Creates an Observable that starts emitting after an `initialDelay` and\n   * emits ever increasing numbers after each `period` of time thereafter.\n   *\n   * <span class=\"informal\">Its like {@link interval}, but you can specify when\n   * should the emissions start.</span>\n   *\n   * <img src=\"./img/timer.png\" width=\"100%\">\n   *\n   * `timer` returns an Observable that emits an infinite sequence of ascending\n   * integers, with a constant interval of time, `period` of your choosing\n   * between those emissions. The first emission happens after the specified\n   * `initialDelay`. The initial delay may be a {@link Date}. By default, this\n   * operator uses the `async` IScheduler to provide a notion of time, but you\n   * may pass any IScheduler to it. If `period` is not specified, the output\n   * Observable emits only one value, `0`. Otherwise, it emits an infinite\n   * sequence.\n   *\n   * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>\n   * var numbers = Rx.Observable.timer(3000, 1000);\n   * numbers.subscribe(x => console.log(x));\n   *\n   * @example <caption>Emits one number after five seconds</caption>\n   * var numbers = Rx.Observable.timer(5000);\n   * numbers.subscribe(x => console.log(x));\n   *\n   * @see {@link interval}\n   * @see {@link delay}\n   *\n   * @param {number|Date} initialDelay The initial delay time to wait before\n   * emitting the first value of `0`.\n   * @param {number} [period] The period of time between emissions of the\n   * subsequent numbers.\n   * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n   * the emission of values, and providing a notion of \"time\".\n   * @return {Observable} An Observable that emits a `0` after the\n   * `initialDelay` and ever increasing numbers after each `period` of time\n   * thereafter.\n   * @static true\n   * @name timer\n   * @owner Observable\n   */\n  static create(initialDelay: number | Date = 0,\n                period?: number | IScheduler,\n                scheduler?: IScheduler): Observable<number> {\n    return new TimerObservable(initialDelay, period, scheduler);\n  }\n\n  static dispatch(state: any) {\n\n    const { index, period, subscriber } = state;\n    const action = (<any> this);\n\n    subscriber.next(index);\n\n    if (subscriber.closed) {\n      return;\n    } else if (period === -1) {\n      return subscriber.complete();\n    }\n\n    state.index = index + 1;\n    action.schedule(state, period);\n  }\n\n  private period: number = -1;\n  private dueTime: number = 0;\n  private scheduler: IScheduler;\n\n  constructor(dueTime: number | Date = 0,\n              period?: number | IScheduler,\n              scheduler?: IScheduler) {\n    super();\n\n    if (isNumeric(period)) {\n      this.period = Number(period) < 1 && 1 || Number(period);\n    } else if (isScheduler(period)) {\n      scheduler = <IScheduler> period;\n    }\n\n    if (!isScheduler(scheduler)) {\n      scheduler = async;\n    }\n\n    this.scheduler = scheduler;\n    this.dueTime = isDate(dueTime) ?\n      (+dueTime - this.scheduler.now()) :\n      (<number> dueTime);\n  }\n\n  protected _subscribe(subscriber: Subscriber<number>): TeardownLogic {\n    const index = 0;\n    const { period, dueTime, scheduler } = this;\n\n    return scheduler.schedule(TimerObservable.dispatch, dueTime, {\n      index, period, subscriber\n    });\n  }\n}\n","export function isDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(+value);\n}\n","import { Scheduler } from '../Scheduler';\nexport function isScheduler(value: any): value is Scheduler {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\n\nexport const async = new AsyncScheduler(AsyncAction);\n","import { Scheduler } from '../Scheduler';\nimport { AsyncAction } from './AsyncAction';\n\nexport class AsyncScheduler extends Scheduler {\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   */\n  public scheduled: any = undefined;\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\n\nexport interface IScheduler {\n  now(): number;\n  schedule<T>(work: (this: Action<T>, state?: T) => void, delay?: number, state?: T): Subscription;\n}\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nexport class Scheduler implements IScheduler {\n\n  public static now: () => number = Date.now ? Date.now : () => +new Date();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: Action<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { root } from '../util/root';\nimport { Action } from './Action';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: AsyncAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n     }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    return root.clearInterval(id) && undefined || undefined;\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  protected _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\n\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: Action<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent Scheduler for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { PartialObserver } from './Observer';\nimport { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription, AnonymousSubscription, TeardownLogic } from './Subscription';\nimport { root } from './util/root';\nimport { toSubscriber } from './util/toSubscriber';\nimport { IfObservable } from './observable/IfObservable';\nimport { ErrorObservable } from './observable/ErrorObservable';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { OperatorFunction } from './interfaces';\nimport { pipeFromArray } from './util/pipe';\n\nexport interface Subscribable<T> {\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): AnonymousSubscription;\n}\n\nexport type SubscribableOrPromise<T> = Subscribable<T> | PromiseLike<T>;\nexport type ObservableInput<T> = SubscribableOrPromise<T> | ArrayLike<T>;\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  public _isScalar: boolean = false;\n\n  protected source: Observable<any>;\n  protected operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(): Subscription;\n  subscribe(observer: PartialObserver<T>): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n   * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n   * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n   * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n   *\n   * @example <caption>Subscribe with an Observer</caption>\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() { // We actually could just remove this method,\n   *   },        // since we do not really care about errors right now.\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   * .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   *\n   *\n   * @example <caption>Subscribe with functions</caption>\n   * let sum = 0;\n   *\n   * Rx.Observable.of(1, 2, 3)\n   * .subscribe(\n   *   function(value) {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   function() {\n   *     console.log('Sum equals: ' + sum);\n   *   }\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   *\n   *\n   * @example <caption>Cancel a subscription</caption>\n   * const subscription = Rx.Observable.interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => console.log('completed!') // Will not be called, even\n   * );                                // when cancelling subscription\n   *\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   *\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      operator.call(sink, this.source);\n    } else {\n      sink.add(this.source ? this._subscribe(sink) : this._trySubscribe(sink));\n    }\n\n    if (sink.syncErrorThrowable) {\n      sink.syncErrorThrowable = false;\n      if (sink.syncErrorThrown) {\n        throw sink.syncErrorValue;\n      }\n    }\n\n    return sink;\n  }\n\n  protected _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      sink.syncErrorThrown = true;\n      sink.syncErrorValue = err;\n      sink.error(err);\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, PromiseCtor?: typeof Promise): Promise<void> {\n    if (!PromiseCtor) {\n      if (root.Rx && root.Rx.config && root.Rx.config.Promise) {\n        PromiseCtor = root.Rx.config.Promise;\n      } else if (root.Promise) {\n        PromiseCtor = root.Promise;\n      }\n    }\n\n    if (!PromiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return new PromiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a RefernceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        if (subscription) {\n          // if there is a subscription, then we can surmise\n          // the next handling is asynchronous. Any errors thrown\n          // need to be rejected explicitly and unsubscribe must be\n          // called manually\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n            subscription.unsubscribe();\n          }\n        } else {\n          // if there is NO subscription, then we're getting a nexted\n          // value synchronously during subscription. We can just call it.\n          // If it errors, Observable's `subscribe` will ensure the\n          // unsubscription logic is called, then synchronously rethrow the error.\n          // After that, Promise will trap the error and send it\n          // down the rejection path.\n          next(value);\n        }\n      }, reject, resolve);\n    });\n  }\n\n  protected _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    return this.source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words\n  static if: typeof IfObservable.create;\n  static throw: typeof ErrorObservable.create;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * @example\n   *\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * Rx.Observable.interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   */\n  pipe<R>(...operations: OperatorFunction<T, R>[]): Observable<R> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(PromiseCtor?: PromiseConstructorLike) {\n    if (!PromiseCtor) {\n      if (root.Rx && root.Rx.config && root.Rx.config.Promise) {\n        PromiseCtor = root.Rx.config.Promise;\n      } else if (root.Promise) {\n        PromiseCtor = root.Promise;\n      }\n    }\n\n    if (!PromiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return new PromiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n","import { noop } from './noop';\nimport { UnaryFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(op1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>, op8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>, op8: UnaryFunction<G, H>, op9: UnaryFunction<H, I>): UnaryFunction<T, I>;\n/* tslint:enable:max-line-length */\n\nexport function pipe<T, R>(...fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  return pipeFromArray(fns);\n}\n\n/* @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input);\n  };\n}\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { root } from '../util/root';\n\nexport function getSymbolObservable(context: any) {\n  let $$observable: any;\n  let Symbol = context.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      $$observable = Symbol.observable;\n    } else {\n        $$observable = Symbol('observable');\n        Symbol.observable = $$observable;\n    }\n  } else {\n    $$observable = '@@observable';\n  }\n\n  return $$observable;\n}\n\nexport const observable = getSymbolObservable(root);\n\n/**\n * @deprecated use observable instead\n */\nexport const $$observable = observable;\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { PartialObserver, empty as emptyObserver } from '../Observer';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","import { isFunction } from './util/isFunction';\nimport { Observer, PartialObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { empty as emptyObserver } from './Observer';\nimport { rxSubscriber as rxSubscriberSymbol } from './symbol/rxSubscriber';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  public syncErrorValue: any = null;\n  public syncErrorThrown: boolean = false;\n  public syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.destination = (<Subscriber<any>> destinationOrNext);\n            (<any> this.destination).add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached {@link Error}. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  protected _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._error) {\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        throw err;\n      } else {\n        _parentSubscriber.syncErrorValue = err;\n        _parentSubscriber.syncErrorThrown = true;\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      throw err;\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      parent.syncErrorValue = err;\n      parent.syncErrorThrown = true;\n      return true;\n    }\n    return false;\n  }\n\n  protected _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { root } from '../util/root';\n\nconst Symbol: any = root.Symbol;\n\nexport const rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n  Symbol.for('rxSubscriber') : '@@rxSubscriber';\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","export interface NextObserver<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error?: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface ErrorObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface CompletionObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error?: (err: any) => void;\n  complete: () => void;\n}\n\nexport type PartialObserver<T> = NextObserver<T> | ErrorObserver<T> | CompletionObserver<T>;\n\nexport interface Observer<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error: (err: any) => void;\n  complete: () => void;\n}\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void { throw err; },\n  complete(): void { /*noop*/ }\n};\n","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n\nexport interface AnonymousSubscription {\n  unsubscribe(): void;\n}\n\nexport type TeardownLogic = AnonymousSubscription | Function | void;\n\nexport interface ISubscription extends AnonymousSubscription {\n  unsubscribe(): void;\n  readonly closed: boolean;\n}\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements ISubscription {\n  public static EMPTY: Subscription = (function(empty: any){\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  protected _parent: Subscription = null;\n  protected _parents: Subscription[] = null;\n  private _subscriptions: ISubscription[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        errors = errors || (\n          errorObject.e instanceof UnsubscriptionError ?\n            flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]\n        );\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let subscription = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    const subscriptions = this._subscriptions || (this._subscriptions = []);\n\n    subscriptions.push(subscription);\n    subscription._addParent(this);\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  private _addParent(parent: Subscription) {\n    let { _parent, _parents } = this;\n    if (!_parent || _parent === parent) {\n      // If we don't have a parent, or the new parent is the same as the\n      // current parent, then set this._parent to the new parent.\n      this._parent = parent;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport class UnsubscriptionError extends Error {\n  constructor(public errors: any[]) {\n    super();\n    const err: any = Error.call(this, errors ?\n      `${errors.length} errors occurred during unsubscription:\n  ${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '');\n    (<any> this).name = err.name = 'UnsubscriptionError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n};\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport const errorObject: any = { e: {} };","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","declare let global: any;\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\ndeclare var WorkerGlobalScope: any;\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\n\nconst __window = typeof window !== 'undefined' && window;\nconst __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nconst __global = typeof global !== 'undefined' && global;\nconst _root: any = __window || __global || __self;\n\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n  if (!_root) {\n    throw new Error('RxJS could not find any global context (window, self, global)');\n  }\n})();\n\nexport { _root as root };","import { isArray } from '../util/isArray';\n\nexport function isNumeric(val: any): val is number {\n  // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n  // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n  // subtraction forces infinities to NaN\n  // adding 1 corrects loss of precision from parseFloat (#15100)\n  return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n};\n","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","import { EventEmitter, Injectable, QueryList } from '@angular/core';\nimport { VgUtils } from './vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class VgFullscreenAPI {\n    polyfill: any;\n    onchange: string;\n    onerror: string;\n    nativeFullscreen: boolean = true;\n    isFullscreen: boolean = false;\n    isAvailable: boolean;\n    videogularElement: HTMLElement;\n    medias: QueryList<VgMedia>;\n\n    fsChangeSubscription: Subscription;\n    onChangeFullscreen: EventEmitter<any> = new EventEmitter();\n\n    constructor() {\n    }\n\n    init(elem: HTMLElement, medias: QueryList<VgMedia>) {\n        this.videogularElement = elem;\n        this.medias = medias;\n\n        const APIs = {\n            w3: {\n                enabled: 'fullscreenEnabled',\n                element: 'fullscreenElement',\n                request: 'requestFullscreen',\n                exit: 'exitFullscreen',\n                onchange: 'fullscreenchange',\n                onerror: 'fullscreenerror'\n            },\n            newWebkit: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitRequestFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            oldWebkit: {\n                enabled: 'webkitIsFullScreen',\n                element: 'webkitCurrentFullScreenElement',\n                request: 'webkitRequestFullScreen',\n                exit: 'webkitCancelFullScreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            moz: {\n                enabled: 'mozFullScreen',\n                element: 'mozFullScreenElement',\n                request: 'mozRequestFullScreen',\n                exit: 'mozCancelFullScreen',\n                onchange: 'mozfullscreenchange',\n                onerror: 'mozfullscreenerror'\n            },\n            ios: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitEnterFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitendfullscreen', // Hack for iOS: webkitfullscreenchange it's not firing\n                onerror: 'webkitfullscreenerror'\n            },\n            ms: {\n                enabled: 'msFullscreenEnabled',\n                element: 'msFullscreenElement',\n                request: 'msRequestFullscreen',\n                exit: 'msExitFullscreen',\n                onchange: 'MSFullscreenChange',\n                onerror: 'MSFullscreenError'\n            }\n        };\n\n        for (let browser in APIs) {\n            if (APIs[ browser ].enabled in document) {\n                this.polyfill = APIs[ browser ];\n                break;\n            }\n        }\n\n        if (VgUtils.isiOSDevice()) {\n            this.polyfill = APIs.ios\n        }\n\n        this.isAvailable = (this.polyfill != null);\n\n        if (this.polyfill == null) {\n            return;\n        }\n\n        let fsElemDispatcher;\n\n        switch (this.polyfill.onchange) {\n            // Mozilla dispatches the fullscreen change event from document, not the element\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=724816#c3\n            case 'mozfullscreenchange':\n                fsElemDispatcher = document;\n                break;\n\n            // iOS dispatches the fullscreen change event from video element\n            case 'webkitendfullscreen':\n                fsElemDispatcher = this.medias.toArray()[ 0 ].elem;\n                break;\n\n            // HTML5 implementation dispatches the fullscreen change event from the element\n            default:\n                fsElemDispatcher = elem;\n        }\n\n        this.fsChangeSubscription = Observable.fromEvent(fsElemDispatcher, this.polyfill.onchange).subscribe(() => {\n            this.onFullscreenChange();\n        });\n    }\n\n    onFullscreenChange() {\n        this.isFullscreen = !!document[ this.polyfill.element ];\n        this.onChangeFullscreen.next(this.isFullscreen);\n    }\n\n    toggleFullscreen(element: any = null) {\n        if (this.isFullscreen) {\n            this.exit();\n        }\n        else {\n            this.request(element);\n        }\n    }\n\n    request(elem: any) {\n        if (!elem) {\n            elem = this.videogularElement;\n        }\n\n        this.isFullscreen = true;\n        this.onChangeFullscreen.next(true);\n\n        // Perform native full screen support\n        if (this.isAvailable && this.nativeFullscreen) {\n            // Fullscreen for mobile devices\n            if (VgUtils.isMobileDevice()) {\n                // We should make fullscreen the video object if it doesn't have native fullscreen support\n                // Fallback! We can't set vg-player on fullscreen, only video/audio objects\n                if ((!this.polyfill.enabled && elem === this.videogularElement) || VgUtils.isiOSDevice()) {\n                    elem = this.medias.toArray()[ 0 ].elem;\n                }\n\n                this.enterElementInFullScreen(elem);\n            }\n            else {\n                this.enterElementInFullScreen(this.videogularElement);\n            }\n        }\n    }\n\n    enterElementInFullScreen(elem: any) {\n        elem[ this.polyfill.request ]();\n    }\n\n    exit() {\n        this.isFullscreen = false;\n        this.onChangeFullscreen.next(false);\n\n        // Exit from native fullscreen\n        if (this.isAvailable && this.nativeFullscreen) {\n            document[ this.polyfill.exit ]();\n        }\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgUtils {\n    /**\n     * Inspired by Paul Irish\n     * https://gist.github.com/paulirish/211209\n     * @returns {number}\n     */\n    static getZIndex():number {\n        let zIndex = 1;\n        let elementZIndex:number;\n\n        let tags = document.getElementsByTagName('*');\n\n        for (let i = 0, l = tags.length; i < l; i++) {\n            elementZIndex = parseInt(window.getComputedStyle(tags[i])[\"z-index\"], 10);\n\n            if (elementZIndex > zIndex) {\n                zIndex = elementZIndex + 1;\n            }\n        }\n\n        return zIndex;\n    }\n\n    // Very simple mobile detection, not 100% reliable\n    static isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf(\"IEMobile\") !== -1);\n    };\n\n    static isiOSDevice() {\n        return (navigator.userAgent.match(/ip(hone|ad|od)/i) && !navigator.userAgent.match(/(iemobile)[\\/\\s]?([\\w\\.]*)/i));\n    };\n\n    static isCordova() {\n        return document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1;\n    };\n}\n","import {Injectable, EventEmitter} from '@angular/core';\nimport {IPlayable} from \"../vg-media/i-playable\";\nimport {VgStates} from \"../states/vg-states\";\nimport { VgFullscreenAPI } from './vg-fullscreen-api';\n\n@Injectable()\nexport class VgAPI {\n    medias:Object = {};// TODO: refactor to Set<IPlayable> \n    videogularElement: any;\n    playerReadyEvent: EventEmitter<any> = new EventEmitter(true);\n    isPlayerReady: boolean = false;\n    fsAPI: VgFullscreenAPI;\n\n    constructor() {\n\n    }\n\n    onPlayerReady(fsAPI: VgFullscreenAPI) {\n        this.fsAPI = fsAPI;\n        this.isPlayerReady = true;\n        this.playerReadyEvent.emit(this);\n    }\n\n    getDefaultMedia():IPlayable {\n        for (let item in this.medias) {\n            if (this.medias[item]) {\n                return this.medias[item];\n            }\n        }\n    }\n\n    getMasterMedia():IPlayable {\n        let master:any;\n        for (let id in this.medias) {\n            if (this.medias[id].vgMedia === 'true' || this.medias[id].vgMedia === true) {\n                master = this.medias[id];\n                break;\n            }\n        }\n        return master || this.getDefaultMedia();\n    }\n\n    isMasterDefined():boolean {\n        let result = false;\n        for (let id in this.medias) {\n            if (this.medias[id].vgMedia === 'true' || this.medias[id].vgMedia === true) {\n                result = true;\n                break;\n            }\n        }\n        return result;\n    }\n\n    getMediaById(id:string = null):IPlayable {\n        let media = this.medias[id];\n\n        if (!id || id === '*') {\n            media = this;\n        }\n\n        return media;\n    }\n\n    play() {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[ id ].play();\n            }\n        }\n    }\n\n    pause() {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[id].pause();\n            }\n        }\n    }\n\n    get duration() {\n        return this.$$getAllProperties('duration');\n    }\n\n    set currentTime(seconds) {\n        this.$$setAllProperties('currentTime', seconds);\n    }\n\n    get currentTime() {\n        return this.$$getAllProperties('currentTime');\n    }\n\n    set state(state) {\n        this.$$setAllProperties('state', state);\n    }\n\n    get state() {\n        return this.$$getAllProperties('state');\n    }\n\n    set volume(volume) {\n        this.$$setAllProperties('volume', volume);\n    }\n\n    get volume() {\n        return this.$$getAllProperties('volume');\n    }\n\n    set playbackRate(rate) {\n        this.$$setAllProperties('playbackRate', rate);\n    }\n\n    get playbackRate() {\n        return this.$$getAllProperties('playbackRate');\n    }\n\n    get canPlay() {\n        return this.$$getAllProperties('canPlay');\n    }\n\n    get canPlayThrough() {\n        return this.$$getAllProperties('canPlayThrough');\n    }\n\n    get isMetadataLoaded() {\n        return this.$$getAllProperties('isMetadataLoaded');\n    }\n\n    get isWaiting() {\n        return this.$$getAllProperties('isWaiting');\n    }\n\n    get isCompleted() {\n        return this.$$getAllProperties('isCompleted');\n    }\n\n    get isLive() {\n        return this.$$getAllProperties('isLive');\n    }\n\n    get isMaster() {\n        return this.$$getAllProperties('isMaster');\n    }\n\n    get time() {\n        return this.$$getAllProperties('time');\n    }\n\n    get buffer() {\n        return this.$$getAllProperties('buffer');\n    }\n\n    get buffered() {\n        return this.$$getAllProperties('buffered');\n    }\n\n    get subscriptions() {\n        return this.$$getAllProperties('subscriptions');\n    }\n\n    get textTracks() {\n        return this.$$getAllProperties('textTracks');\n    }\n\n    seekTime(value:number, byPercent:boolean = false) {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.$$seek(this.medias[ id ], value, byPercent);\n            }\n        }\n    }\n\n    $$seek(media:IPlayable, value:number, byPercent:boolean = false) {\n        let second:number;\n        let duration:number = media.duration;\n\n        if (byPercent) {\n            if (this.isMasterDefined()) {\n                duration = this.getMasterMedia().duration;\n            }\n\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n\n        media.currentTime = second;\n    }\n\n    addTextTrack(type:string, label?:string, language?:string) {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.$$addTextTrack(this.medias[ id ], type, label, language);\n            }\n        }\n    }\n    $$addTextTrack(media:IPlayable, type:string, label?:string, language?:string) {\n        media.addTextTrack(type, label, language);\n    }\n\n    $$getAllProperties(property:string){\n        const medias = {};\n        let result:any;\n\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                medias[ id ] = this.medias[ id ];\n            }\n        }\n\n        const nMedias = Object.keys(medias).length;\n        switch (nMedias) {\n            case 0:\n                // Return default values until vgMedia is initialized\n                switch (property) {\n                    case 'state':\n                        result = VgStates.VG_PAUSED;\n                        break;\n\n                    case 'playbackRate':\n                    case 'volume':\n                        result = 1;\n                        break;\n\n                    case 'time':\n                        result = {current: 0, total: 0, left: 0};\n                        break;\n                }\n                break;\n\n            case 1:\n                // If there's only one media element then return the plain value\n                const firstMediaId = Object.keys(medias)[0];\n                result = medias[firstMediaId][property];\n                break;\n                \n            default:\n                // TODO: return 'master' value\n                let master = this.getMasterMedia();\n                result = medias[master.id][property];\n        }\n        \n        return result;\n    }\n\n    $$setAllProperties(property:string, value:any){\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[ id ][ property ] = value;\n            }\n        }\n    }\n\n    registerElement(elem:HTMLElement) {\n        this.videogularElement = elem;\n    }\n\n    registerMedia(media:IPlayable) {\n        this.medias[media.id] = media;\n    }\n\n    unregisterMedia(media:IPlayable) {\n        delete this.medias[media.id];\n    }\n\n\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgStates {\n    static VG_ENDED: string = 'ended';\n    static VG_PAUSED: string = 'paused';\n    static VG_PLAYING: string = 'playing';\n    static VG_LOADING: string = 'waiting';\n}\n"],"names":["__metadata","__decorate","Observable","Subject","TimerObservable","async_1","__extends","root_1","observable_1","observable","Observer_1","rxSubscriber_1","errorObject_1","isArray_1","global"],"mappings":"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"}
